//var tooltip = new Tooltip(info.el, {
// https://stackoverflow.com/questions/56866108/tooltips-not-working-in-fullcalendar-when-i-use-bootstrap-css

.done is not .then
https://makandracards.com/makandra/39543-jquery-promises-done-and-then-are-not-the-same

cyclic like trying to JSON.stringify(this


unique array values
https://stackoverflow.com/questions/1960473/get-all-unique-values-in-a-javascript-array-remove-duplicates

// usage example:
var myArray = ['a', 1, 'a', 2, '1'];
var unique = myArray.filter((v, i, a) => a.indexOf(v) === i); 

// unique is ['a', 1, 2, '1']

var myArray = ['a', 1, 'a', 2, '1'];

let unique = [...new Set(myArray)]; 



  async function firstFunc (){
                  const thenable = {
                    then: function(resolve, _reject){
                      resolve('resolved')
                    }
                  }
                  return await thenable
                 // console.log(await thenable)
                }
                
               firstFunc().then(val => console.log(val+"!") ) 
              })





                       //let example = async () => { // returns Promise pending until resolved
                  let firstFunc = () => {
                    return new Promise((resolve, reject) => {
                      setTimeout(() => {
                          resolve('Hello');
                      }, 2000);
                    })
                  }

                  let secondFunc = async () => {
                    let y = await firstFunc()
                    console.log('1:' + y)
                    return y
                  }

                  // let x = await secondFunc()

                  // console.log(x)
                    
           
              // }
              // example()

              ---
                async function firstFunc (){   // returns Promise pending until
                   
                    function prom() {
                      return new Promise( (resolve,reject) => {
                        let fetcher = App.getEvents()
                        fetcher().then(data => resolve(data))
                        // resolve(await res)//('resultantas')
                      } )
                    }

                    let foo = () => {
                     return new Promise (
                       (resolve) => resolve(prom())
                     )
                     
                    //  function(resolve,reject){
                    //   setTimeout(() => {
                    //     resolve('Hello');
                    //   }, 2000);
                     }
                          
                
                let secondFunc = async () => {
                  let y = await foo()
                  console.log('1:' + y)
                  return y
                }

                let x = await secondFunc()

                console.log(x)
              
              }

               firstFunc()
              }





              

    //   getFavourites(){
    //     console.log(this.favourites)
    //       return this.favourites
    //   }

    //   checkFavourites(favourites, event) {  // returns T/F
    //     return favourites.some(favourite => favourite.id === event.id) // given story obj is in favs
    // }


viewRender: function(view) {
          if(view.type === 'basicWeek') {
             $('#calendar').fullCalendar( 'removeEventSource', ev1 );
             $('#calendar').fullCalendar( 'addEventSource', ev2 );
             return; 
           }  
        },


.replace("<![CDATA[", "").replace(/<\/?\w*\b[^>]*>/ig, '').replace("]]>", ""),


//     events: [
//   {
//     "id": "873612415",
//     "title": "After School Art Workshop",
//     "start": "2020-02-07T15:00:00+00:00",
//     "url": "https://wexfordartscentre.ticketsolve.com/shows/873612415/",
//     "extendedProps": {
//       "description": "\n          <p>After School Art Workshop- This series of art classes is a place where kids can explore their creative side - by having fun, learning new skills and building confidence! Small classes of 8 students, insures individual attention to each students progress when it comes to learning art.&nbsp;</p>\n<div>\n<div>&nbsp;Kids will explore different ways of creating art and mark makings through Paint, Collage, Charcoal, Drawing, Mix-media and Suminagashi. We will also at different artists through history as well as modern day children&apos;s illustrators such as Oliver Jeffers, Mae Besom and Isabelle Arsenault as inspiration.&nbsp;</div>\n<div>&nbsp;</div>\n<div>As places are limited book early through The Presentation Art Centre to avoid disappointment!&nbsp;</div>\n<div>Nadia Corridan is an artist based in Enniscorthy since 2016. She is a fine art painter with a BA Honours Degree from Limerick School of Art &amp; Design.&nbsp;</div>\n<div>She has developed&nbsp;her career as a figurative&nbsp;oil painter. She is also one of the founding members and project manager to the Enniscorthy Art Trail which runs over the August Bank Holiday weekend each year. Her artwork can be viewed through social media and her website (<a href=\"http://nadiacorridan.weebly.com/\" target=\"_blank\" data-saferedirecturl=\"https://www.google.com/url?q=http://nadiacorridan.weebly.com/&source=gmail&ust=1579278434105000&usg=AFQjCNGyGMUzeHxpyFWzoLkGLS101aCu5w\">nadiacorridan.weebly.com</a>)</div>\n</div>\n<div>&nbsp;</div>\n<div>Tckets &euro;10 -pay as you go</div>\n<div>&euro;50 for 6 classes&nbsp;</div>\n<div>Running from 6th February - 12th March</div>\n<div>3pm - 4:30pm</div>\n        ",
//       "category": "Children",
//       "images": {
//         "thumb": "https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/MQ4NVjpNd47FMzAbqehoZ78z/42108e2ccaa9cbeaed96ff70f4f71abb3e953a28352072c0afd65721f1c07e2b",
//         "medium": "https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/MQ4NVjpNd47FMzAbqehoZ78z/db985b134426e3a0a042b6dc139e02b7924a669da4f6434c9c9c4b9553d63a33",
//         "large": "https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/MQ4NVjpNd47FMzAbqehoZ78z/d82b4c5034021c15162868846a860fc142237fb62f146ef228d6181ef8a17941"
//       },
//       "jdata": "{\"id\":\"873612415\",\"title\":\"After School Art Workshop\",\"start\":\"2020-02-06T15:00:00+00:00\",\"url\":\"https://wexfordartscentre.ticketsolve.com/shows/873612415/\",\"extendedProps\":{\"description\":\"\\n          <p>After School Art Workshop- This series of art classes is a place where kids can explore their creative side - by having fun, learning new skills and building confidence! Small classes of 8 students, insures individual attention to each students progress when it comes to learning art.&nbsp;</p>\\n<div>\\n<div>&nbsp;Kids will explore different ways of creating art and mark makings through Paint, Collage, Charcoal, Drawing, Mix-media and Suminagashi. We will also at different artists through history as well as modern day children&apos;s illustrators such as Oliver Jeffers, Mae Besom and Isabelle Arsenault as inspiration.&nbsp;</div>\\n<div>&nbsp;</div>\\n<div>As places are limited book early through The Presentation Art Centre to avoid disappointment!&nbsp;</div>\\n<div>Nadia Corridan is an artist based in Enniscorthy since 2016. She is a fine art painter with a BA Honours Degree from Limerick School of Art &amp; Design.&nbsp;</div>\\n<div>She has developed&nbsp;her career as a figurative&nbsp;oil painter. She is also one of the founding members and project manager to the Enniscorthy Art Trail which runs over the August Bank Holiday weekend each year. Her artwork can be viewed through social media and her website (<a href=\\\"http://nadiacorridan.weebly.com/\\\" target=\\\"_blank\\\" data-saferedirecturl=\\\"https://www.google.com/url?q=http://nadiacorridan.weebly.com/&source=gmail&ust=1579278434105000&usg=AFQjCNGyGMUzeHxpyFWzoLkGLS101aCu5w\\\">nadiacorridan.weebly.com</a>)</div>\\n</div>\\n<div>&nbsp;</div>\\n<div>Tckets &euro;10 -pay as you go</div>\\n<div>&euro;50 for 6 classes&nbsp;</div>\\n<div>Running from 6th February - 12th March</div>\\n<div>3pm - 4:30pm</div>\\n        \",\"category\":\"Children\",\"images\":{\"thumb\":\"https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/MQ4NVjpNd47FMzAbqehoZ78z/42108e2ccaa9cbeaed96ff70f4f71abb3e953a28352072c0afd65721f1c07e2b\",\"medium\":\"https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/MQ4NVjpNd47FMzAbqehoZ78z/db985b134426e3a0a042b6dc139e02b7924a669da4f6434c9c9c4b9553d63a33\",\"large\":\"https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/MQ4NVjpNd47FMzAbqehoZ78z/d82b4c5034021c15162868846a860fc142237fb62f146ef228d6181ef8a17941\"}}}"
//     }
//   },
 
// ]


237
"{&quot;id&quot;:&quot;873611604&quot;,&quot;title&quot;:&quot;Wexford Drama Group presents \&quot;Closer\&quot; by Patrick Marber&quot;,&quot;start&quot;:&quot;2020-02-13T20:00:00+00:00&quot;,&quot;url&quot;:&quot;https://wexfordartscentre.ticketsolve.com/shows/873611604/&quot;,&quot;extendedProps&quot;:{&quot;description&quot;:&quot;\n          <div dir=\&quot;auto\&quot;>\n<span>&quot;Closer&quot;</span>&nbsp;is the story of four very different people searching for love in 1990's London. Wickedly funny and full of beautiful, truthful writing this hugely successful play will be brought to life by the fabulous foursome of Danielle Reck as Alice, Stephen Byrne as Dan, Seona O'Connor as Anna and Alan Fitzhenry as Larry. The play is directed by Paul Walsh. The production will hit the Wexford Arts Center for two weekends in February and tickets are on sale now !!&nbsp;</div>\n<div dir=\&quot;auto\&quot;>&nbsp;</div>\n<div dir=\&quot;auto\&quot;><strong><span style=\&quot;color: #ff0000;\&quot;>***Please note*** This play features nudity and strong adult language so it is STRICTLY over 18's.&nbsp;</span></strong></div>\n<p><span>&nbsp;</span></p>\n        &quot;,&quot;category&quot;:&quot;Theatre&quot;,&quot;images&quot;:{&quot;thumb&quot;:&quot;https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/pyGGLEKKNXFg3GpLrnEMZuqp/42108e2ccaa9cbeaed96ff70f4f71abb3e953a28352072c0afd65721f1c07e2b&quot;,&quot;medium&quot;:&quot;https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/pyGGLEKKNXFg3GpLrnEMZuqp/db985b134426e3a0a042b6dc139e02b7924a669da4f6434c9c9c4b9553d63a33&quot;,&quot;large&quot;:&quot;https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/pyGGLEKKNXFg3GpLrnEMZuqp/d82b4c5034021c15162868846a860fc142237fb62f146ef228d6181ef8a17941&quot;}}}"

\n          \n&quot;Closer&quot;&nbsp;is the story of four very different people searching for love in 1990&apos;s London. Wickedly funny and full of beautiful, truthful writing this hugely successful play will be brought to life by the fabulous foursome of Danielle Reck as Alice, Stephen Byrne as Dan, Seona O&apos;Connor as Anna and Alan Fitzhenry as Larry. The play is directed by Paul Walsh. The production will hit the Wexford Arts Center for two weekends in February and tickets are on sale now !!&nbsp;\n&nbsp;\n***Please note*** This play features nudity and strong adult language so it is STRICTLY over 18&apos;s.&nbsp;\n&nbsp;\n        

261
"{&quot;id&quot;:&quot;873611604&quot;,&quot;title&quot;:&quot;Wexford Drama Group presents \&quot;Closer\&quot; by Patrick Marber&quot;,&quot;start&quot;:&quot;2020-02-13T20:00:00+00:00&quot;,&quot;url&quot;:&quot;https://wexfordartscentre.ticketsolve.com/shows/873611604/&quot;,&quot;extendedProps&quot;:{&quot;description&quot;:&quot;\n          <div dir=\&quot;auto\&quot;>\n<span>&quot;Closer&quot;</span>&nbsp;is the story of four very different people searching for love in 1990's London. Wickedly funny and full of beautiful, truthful writing this hugely successful play will be brought to life by the fabulous foursome of Danielle Reck as Alice, Stephen Byrne as Dan, Seona O'Connor as Anna and Alan Fitzhenry as Larry. The play is directed by Paul Walsh. The production will hit the Wexford Arts Center for two weekends in February and tickets are on sale now !!&nbsp;</div>\n<div dir=\&quot;auto\&quot;>&nbsp;</div>\n<div dir=\&quot;auto\&quot;><strong><span style=\&quot;color: #ff0000;\&quot;>***Please note*** This play features nudity and strong adult language so it is STRICTLY over 18's.&nbsp;</span></strong></div>\n<p><span>&nbsp;</span></p>\n        &quot;,&quot;category&quot;:&quot;Theatre&quot;,&quot;images&quot;:{&quot;thumb&quot;:&quot;https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/pyGGLEKKNXFg3GpLrnEMZuqp/42108e2ccaa9cbeaed96ff70f4f71abb3e953a28352072c0afd65721f1c07e2b&quot;,&quot;medium&quot;:&quot;https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/pyGGLEKKNXFg3GpLrnEMZuqp/db985b134426e3a0a042b6dc139e02b7924a669da4f6434c9c9c4b9553d63a33&quot;,&quot;large&quot;:&quot;https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/pyGGLEKKNXFg3GpLrnEMZuqp/d82b4c5034021c15162868846a860fc142237fb62f146ef228d6181ef8a17941&quot;}}}"

643
"{&quot;id&quot;:&quot;873609386&quot;,&quot;title&quot;:&quot;\&quot;Heal Your Hole\&quot; with Norma Sheahan&quot;,&quot;start&quot;:&quot;2020-03-06T20:00:00+00:00&quot;,&quot;url&quot;:&quot;https://wexfordartscentre.ticketsolve.com/shows/873609386/&quot;,&quot;extendedProps&quot;:{&quot;description&quot;:&quot;\n          Norma Sheahan's hilarious comedy night promises to heal every hole in your life, one laugh at a time.&nbsp;\n&nbsp;\nAs seen in… The Clinic, Bridget &amp; Eamon, Mooneboy, Damo &amp; Ivor, Finding Joy, Women on the Verge, Vagina Monologues, and hanging over the Liffey in Celebrity Ireland's Fittest Family. Plus much more….\n&nbsp;\n&quot;The Comedy Chops of Norma Sheahan are there in spades…&quot; (The Sunday World)\n&nbsp;\n&quot;Sheahan, whose extensive CV includes roles on Bridget &amp; Eamon, Can't Cope Won't Cope, and A Date for Mad Mary, is in danger of stealing the show…&quot; (<a href=\&quot;http://rte.ie/\&quot; target=\&quot;_blank\&quot; data-saferedirecturl=\&quot;https://www.google.com/url?q=http://RTE.ie&amp;source=gmail&amp;ust=1571822054614000&amp;usg=AFQjCNFh_pTcljwiLK1xvMf1ihJyazKXLA\&quot;>RTE.ie</a>)\n<p>&nbsp;</p>\n        &quot;,&quot;category&quot;:&quot;Comedy&quot;,&quot;images&quot;:{&quot;thumb&quot;:&quot;https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/7kdud1uADjabe9T6obsdp3jM/42108e2ccaa9cbeaed96ff70f4f71abb3e953a28352072c0afd65721f1c07e2b&quot;,&quot;medium&quot;:&quot;https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/7kdud1uADjabe9T6obsdp3jM/db985b134426e3a0a042b6dc139e02b7924a669da4f6434c9c9c4b9553d63a33&quot;,&quot;large&quot;:&quot;https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/7kdud1uADjabe9T6obsdp3jM/d82b4c5034021c15162868846a860fc142237fb62f146ef228d6181ef8a17941&quot;}}}"
526
"{&quot;id&quot;:&quot;873611836&quot;,&quot;title&quot;:&quot;Wild In the Country by Enniscorthy Drama Group&quot;,&quot;start&quot;:&quot;2020-03-05T20:00:00+00:00&quot;,&quot;url&quot;:&quot;https://wexfordartscentre.ticketsolve.com/shows/873611836/&quot;,&quot;extendedProps&quot;:{&quot;description&quot;:&quot;\n          <p>When it is suggested to Rose that her favourite superstar, Elvis Presley, is coming to town to perform in the local hall, she gives it her all to get ready for this great event. But when her plans to meet and seduce Elvis get interrupted by her Mozart loving husband, a washing machine, a local election, and Mother time herself, she decides she must take matters into her own hands if she is to fulfil her destiny.&quot; A play set in Enniscorthy, by an Enniscorthy Author, with an Enniscorthy Cast, for an Enniscorthy audience. Enniscorthy Drama Group proudly present this 3 act play by Paul O Reilly, starring Julie Fox, Kate Breen, Fergal Kelly, Pat Murphy, Niall Holohan and Alan Kinsella, and directed by Fintan Kelly.</p>\n<p>Preview Tickets €10 on 4th and €15 on 5th, 6th and 7th March</p>\n        &quot;,&quot;category&quot;:&quot;Amateur Drama&quot;,&quot;images&quot;:{&quot;thumb&quot;:&quot;https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/cPR5Rh6TuPCwvj4Q1YxsTtc4/42108e2ccaa9cbeaed96ff70f4f71abb3e953a28352072c0afd65721f1c07e2b&quot;,&quot;medium&quot;:&quot;https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/cPR5Rh6TuPCwvj4Q1YxsTtc4/db985b134426e3a0a042b6dc139e02b7924a669da4f6434c9c9c4b9553d63a33&quot;,&quot;large&quot;:&quot;https://dc40ra2rfm3rp.cloudfront.net/as-assets/variants/cPR5Rh6TuPCwvj4Q1YxsTtc4/d82b4c5034021c15162868846a860fc142237fb62f146ef228d6181ef8a17941&quot;}}}"



static favsButton(){



  const favToggleButton = document.createElement("input")
  favToggleButton.setAttribute("type", "checkbox")
  favToggleButton.setAttribute("data-toggle", "toggle")
  favToggleButton.setAttribute("data-on", "<i class='fa fa-heart'></i> Favs")
  favToggleButton.setAttribute("data-onstyle", "danger")
  favToggleButton.setAttribute("data-off", "Show All")
  /favToggleButton.setAttribute("data-offstyle", "primary")
  favToggleButton.id="favToggleButton"
  // document.querySelector(".fc-favsButton-button")
  
  // html body div.container div.row div.col-md-8 div#calendar.fc.fc-ltr.fc-bootstrap div.fc-toolbar.fc-header-toolbar div.fc-right div.btn-group
  const container = document.querySelector("div.fc-toolbar.fc-header-toolbar div.fc-right") // parent
  const prevButton = document.querySelector("div.btn-group") // before this child
  container.insertBefore(favToggleButton, prevButton)
  // const $favToggleButton = document.querySelector("#favToggleButton")
  $("#favToggleButton").bootstrapToggle('off')
  $("#favToggleButton").change(function () {
    var eventSources = calendar.getEventSources()
        eventSources[0].remove()
    if($(this).prop('checked') == true){
      calendar.addEventSource(eventSource.favs)
      calendar.changeView('favsView')
      $("input:checkbox").prop("checked", true)
    }else{
      calendar.today()
      calendar.changeView('listWeek')
      calendar.addEventSource(eventSource.wxac)  //calendar.getEventSourceById(3)
    }
  })

 }
// End UI Class
}


// Copy links
 // info.el.querySelector(".linksharer").addEventListener("click", e=> {
          
        //   e.preventDefault();
        //   const copyText = e.target.dataset.href
        //   var textarea = document.createElement("textarea") // ref: https://stackoverflow.com/questions/55065316/copy-text-present-in-button-attribute-to-clipboard
        //   textarea.textContent = copyText
        //   textarea.style.position = "fixed" // Prevent scrolling to bottom of page in MS Edge.
        //   document.body.appendChild(textarea)
        //   textarea.select()
        //   document.execCommand("copy")
        //   document.body.removeChild(textarea)
        //   // $(this > '[data-toggle="tooltip"]').tooltip('show')
        //   setTimeout(function(){$('[data-toggle="tooltip"]').tooltip('hide')}, 750);
          
        // })